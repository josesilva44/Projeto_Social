{% extends 'tela_inicial/layout_base.html' %}

{% block title %}Dashboard — {{ perfil }}{% endblock %}

{% block conteudo %}
<section id="hero" class="hero d-flex align-items-center">
  <div class="container">
    <div class="row">
      <div class="col-lg-6 d-flex flex-column justify-content-center">
        <h1 data-aos="fade-up">Bem-vindo,
          {% if request.user.get_full_name %}{{ request.user.get_full_name }}{% else %}{{ request.user.username }}{% endif %}
        </h1>
        <h2 data-aos="fade-up" data-aos-delay="400">Painel de gestão de aulas — registre presenças, diários e acompanhe suas turmas.</h2>
      </div>
      </div>
  </div>
</section>

<section id="hero-cards" class="hero-cards">
  <div class="container">
    <div class="row g-4">
      <div class="col-lg-3 col-md-6">
        <div class="card blue-card h-100">
          <div class="card-body d-flex flex-column justify-content-between">
            <div>
              <h3>Como usar o sistema?</h3>
              <p>Gerencie suas aulas e registre dados com facilidade.</p>
            </div>
            <a href="#about-app" class="btn btn-light-blue mt-3">Saiba mais <i class="bi bi-chevron-right"></i></a>
          </div>
        </div>
      </div>

      <div class="col-lg-3 col-md-6">
        <a href="{% url 'aula_list_professor' %}" class="card icon-card h-100 text-center" style="text-decoration: none; color: inherit;">
          <div class="card-body">
            <div class="icon-box mb-3">
              <i class="bi bi-calendar-event"></i>
            </div>
            <h4>Minhas Aulas</h4>
            <p>Listar e preencher diários de aula.</p>
          </div>
        </a>
      </div>

      <div class="col-lg-3 col-md-6">
        <a href="{% url 'aluno_list_professor' %}" class="card icon-card h-100 text-center" style="text-decoration: none; color: inherit;">
          <div class="card-body">
            <div class="icon-box mb-3">
              <i class="bi bi-people"></i>
            </div>
            <h4>Alunos da Minha Classe</h4>
            <p>Visualizar alunos matriculados.</p>
          </div>
        </a>
      </div>

      {% if vinculado %}
      <div class="col-lg-3 col-md-6">
        <a href="{% url 'aluno_matricular' %}" class="card icon-card h-100 text-center" style="text-decoration: none; color: inherit;">
          <div class="card-body">
            <div class="icon-box mb-3">
              <i class="bi bi-person-plus"></i>
            </div>
            <h4>Matricular Aluno</h4>
            <p>Adicionar novos alunos à sua classe.</p>
          </div>
        </a>
      </div>
      {% else %}
      <div class="col-lg-3 col-md-6">
        <div class="card icon-card h-100 text-center text-muted" style="text-decoration: none; color: inherit; opacity: 0.8;">
          <div class="card-body">
            <div class="icon-box mb-3">
              <i class="bi bi-person-x"></i>
            </div>
            <h4>Matricular Aluno</h4>
            <p><small>Você não está vinculado a nenhuma classe. Peça ao Superintendente para associar sua conta.</small></p>
          </div>
        </div>
      </div>
      {% endif %}

    </div>
  </div>
</section>

<section id="stats" class="stats section-bg">
  <div class="container">
    <div class="row gy-4">
      <div class="col-lg-3 col-md-6">
        <a href="{% url 'aula_list_professor' %}" class="text-decoration-none text-reset">
          <div class="stats-item text-center w-100 h-100">
            <div class="icon-circle mx-auto mb-3">
              <i class="bi bi-person-video3"></i>
            </div>
            <span class="fs-2 fw-bold" style="color: #012970;">{{ total_aulas }}</span>
            <p>Minhas aulas do período</p>
          </div>
        </a>
      </div>
      <div class="col-lg-3 col-md-6">
        <a href="{% url 'aluno_list_professor' %}" class="text-decoration-none text-reset">
          <div class="stats-item text-center w-100 h-100">
            <div class="icon-circle mx-auto mb-3">
              <i class="bi bi-building"></i>
            </div>
            <span class="fs-2 fw-bold" style="color: #012970;">{{ total_alunos }}</span>
            <p>Alunos na minha classe</p>
          </div>
        </a>
      </div>
      <div class="col-lg-3 col-md-6">
        <a href="{% url 'aula_list_professor' %}" class="text-decoration-none text-reset">
          <div class="stats-item text-center w-100 h-100">
            <div class="icon-circle mx-auto mb-3">
              <i class="bi bi-people-fill"></i>
            </div>
            <span class="fs-2 fw-bold" style="color: #012970;">{{ total_diarios }}</span>
            <p>Diários preenchidos</p>
          </div>
        </a>
      </div>
      <div class="col-lg-3 col-md-6">
        <a href="{% url 'periodo_list' %}" class="text-decoration-none text-reset">
          <div class="stats-item text-center w-100 h-100">
            <div class="icon-circle mx-auto mb-3">
              <i class="bi bi-journal-bookmark"></i>
            </div>
            <span class="fs-2 fw-bold" style="color: #012970;">{% if trimestre_ativo %}{{ trimestre_ativo.trimestre }} / {{ trimestre_ativo.ano }}{% else %}Nenhum{% endif %}</span>
            <p>Período ativo</p>
          </div>
        </a>
      </div>
    </div>
  </div>
</section>

<section id="about-app" class="about-app section-bg">
  <div class="container">
    <header class="section-header text-center mb-5 mt-5">
      <h2>Como funciona o sistema?</h2>
      <p>Funcionalidades disponíveis para professores</p>
    </header>
    
    <div class="row gy-4">
      <div class="col-lg-6">
        <div class="about-box">
          <h3>Gestão de Aulas</h3>
          <p>Visualize todas as suas aulas do período ativo e registre informações de cada turma para melhor acompanhamento.</p>
          <ul class="features-list">
            <li><i class="bi bi-check-circle"></i> Listar aulas da sua classe</li>
            <li><i class="bi bi-check-circle"></i> Preencher diário de aula</li>
            <li><i class="bi bi-check-circle"></i> Registrar presenças dos alunos</li>
            <li><i class="bi bi-check-circle"></i> Documentar informações da aula</li>
          </ul>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="about-box">
          <h3>Acompanhamento de Alunos</h3>
          <p>Gerencie os alunos matriculados na sua classe e acompanhe sua participação nas aulas.</p>
          <ul class="features-list">
            <li><i class="bi bi-check-circle"></i> Visualizar alunos da classe</li>
            <li><i class="bi bi-check-circle"></i> Matricular novos alunos</li>
            <li><i class="bi bi-check-circle"></i> Registrar frequência</li>
            <li><i class="bi bi-check-circle"></i> Acompanhar desempenho</li>
          </ul>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="about-box">
          <h3>Diários e Registros</h3>
          <p>Registre informações importantes de cada aula como presenças, visitantes, materiais e ofertas.</p>
          <ul class="features-list">
            <li><i class="bi bi-check-circle"></i> Registrar presença de alunos</li>
            <li><i class="bi bi-check-circle"></i> Documentar visitantes</li>
            <li><i class="bi bi-check-circle"></i> Registrar materiais usados</li>
            <li><i class="bi bi-check-circle"></i> Documentar ofertas e dízimos</li>
          </ul>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="about-box">
          <h3>Acesso Fácil e Intuitivo</h3>
          <p>Interface simples e clara para você se concentrar no ensino sem complicações.</p>
          <ul class="features-list">
            <li><i class="bi bi-check-circle"></i> Dashboard personalizado</li>
            <li><i class="bi bi-check-circle"></i> Acesso rápido às suas aulas</li>
            <li><i class="bi bi-check-circle"></i> Formulários intuitivos</li>
            <li><i class="bi bi-check-circle"></i> Controle de acesso restrito</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock conteudo %}
